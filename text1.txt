sudo apt update
sudo apt install -y \
  ca-certificates \
  curl \
  gnupg \
  lsb-release \
  qemu-system \
  pass

wget https://desktop.docker.com/linux/main/amd64/docker-desktop-4.27.2-amd64.deb

sudo apt install ./docker-desktop-4.27.2-amd64.deb

sudo apt --fix-broken install

systemctl --user start docker-desktop


sudo usermod -aG docker $USER
newgrp docker

Step 1: Remove broken/partial packages
sudo apt remove docker-desktop -y
sudo apt autoremove -y
sudo apt update

ðŸ”¹ Step 2: Add Dockerâ€™s official APT repository
sudo apt install -y ca-certificates curl gnupg

sudo install -m 0755 -d /etc/apt/keyrings

curl -fsSL https://download.docker.com/linux/ubuntu/gpg |
sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

sudo chmod a+r /etc/apt/keyrings/docker.gpg


Add repo (Ubuntu noble = 24.04):

echo \
"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \
https://download.docker.com/linux/ubuntu noble stable" |
sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

sudo apt update

ðŸ”¹ Step 3: Install Docker CE (this fixes the dependency)
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin


Verify:

docker --version
docker compose version

ðŸ”¹ Step 4: NOW install Docker Desktop
sudo apt install ./docker-desktop-4.27.2-amd64.deb


âœ… This time it will install cleanly

ðŸ”¹ Step 5: Start Docker Desktop
systemctl --user start docker-desktop

