sudo apt update
sudo apt install -y \
  ca-certificates \
  curl \
  gnupg \
  lsb-release \
  qemu-system \
  pass

wget https://desktop.docker.com/linux/main/amd64/docker-desktop-4.27.2-amd64.deb

sudo apt install ./docker-desktop-4.27.2-amd64.deb

sudo apt --fix-broken install

systemctl --user start docker-desktop


sudo usermod -aG docker $USER
newgrp docker
-----------------------------------------------
Step 1: Clean any broken Docker repo setup
sudo rm -f /etc/apt/sources.list.d/docker.list
sudo rm -f /etc/apt/keyrings/docker.gpg
sudo apt clean
sudo apt update

ðŸ”¹ Step 2: Re-add Docker GPG key (correct way)
sudo install -m 0755 -d /etc/apt/keyrings

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | \
sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

sudo chmod a+r /etc/apt/keyrings/docker.gpg


Verify key exists:

ls -l /etc/apt/keyrings/docker.gpg

ðŸ”¹ Step 3: Add Docker repo with correct codename

Ubuntu 24.04 = noble

âš ï¸ This line is critical â€” copy-paste only:

echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \
https://download.docker.com/linux/ubuntu noble stable" | \
sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

ðŸ”¹ Step 4: Update and VERIFY repo visibility
sudo apt update


Now verify Docker packages are visible:

apt-cache policy docker-ce


âœ… You should see something like:

Candidate: 5:26.x.x-1~ubuntu.24.04~noble


If you donâ€™t see a candidate, STOP and tell me â€” donâ€™t continue.

ðŸ”¹ Step 5: Install Docker CE (this will now work)
sudo apt install -y \
docker-ce \
docker-ce-cli \
containerd.io \
docker-buildx-plugin \
docker-compose-plugin

ðŸ”¹ Step 6: Verify Docker Engine
docker version
docker compose version


Test:

docker run hello-world

ðŸ”¹ Step 7: Now install Docker Desktop
sudo apt install ./docker-desktop-4.27.2-amd64.deb


Then:

systemctl --user start docker-desktop
